---
import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";
import Modalcontac from "../components/ui/Modalcontac.astro";
import "../styles/global.css";
import PortadaStatic from "../components/section/PortadaStatic.astro";
import BlogAside from "../components/ui/BlogAside.astro";
import MainContent from "../components/constructor/MainContent.astro";
const articulo = await Astro.glob("../pages/blog/*.md");

const { title, description, image, date, author, tags, imageAutor, role, bio } =
  Astro.props.frontmatter;
---

<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>{title} | Accessible Travel Peru</title>
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- SEO b√°sico -->
    <meta name="author" content={author} />
    <meta
      name="keywords"
      content={`turismo accesible, viajes Per√∫, ${title}`}
    />
    <meta name="robots" content="index, follow" />
    {
      title && (
        <link
          rel="canonical"
          href={`https://accessibletravelperu.com/blog/${title
            .toLowerCase()
            .replace(/[^a-z0-9]+/g, "-")}`}
        />
      )
    }

    <!-- Open Graph -->
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={image ?? "/images/default.webp"} />
    <meta property="og:type" content="article" />
    <meta property="og:locale" content="es_PE" />
    <meta property="article:published_time" content={date} />
    <meta property="article:author" content={author} />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={image ?? "/images/default.webp"} />
  </head>

  <body class="overflow-x-hidden font-poppins bg-white text-slate-800 relative">
    <Header />
      <div class=" pt-14 md:pt-22 w-full h-14 md:h-22 bg-white"></div>
  <PortadaStatic texto={title} />

    <MainContent>  
      <article
        class="space-y-6 text-base leading-relaxed mx-auto:max-w-7xl gap-4 p-4 flex flex-col-reverse md:flex-row"
      >
        <!-- SECCI√ìN DEL ART√çCULO -->
        <div
          class="bg-white max-w-md md:py-12 lg:max-w-2xl xl:max-w-4xl rounded-lg shadow-md overflow-hidden"
        >
          <img
            src={image ?? "/images/gato.jpg"}
            alt={`Imagen destacada de ${title}`}
            class="w-full object-cover h-72"
          />

          <div class="p-6">
            <div class="flex items-center text-gray-500 text-sm space-x-4 mb-4">
              <span>üìÖ {date}</span>
              <span>‚úçÔ∏è {author}</span>
              <span>‚è±Ô∏è 3 min de lectura</span>
            </div>

            <h1 class="text-2xl font-bold text-gray-900 mb-2">{title}</h1>
            <p class="text-gray-600 mb-4">{description}</p>

            <slot />

            <blockquote
              class="border-l-4 border-green-500 pl-4 italic text-gray-700 mt-6"
            >
              "Tu tiempo es limitado, as√≠ que no lo desperdicies viviendo la
              vida de otra persona."
              <br />
              <span class="text-sm font-semibold">‚Äî John Mehdati</span>
            </blockquote>
          </div>
        </div>
        <BlogAside
          data={{
            title,
            description,
            image,
            date,
            author,
            tags,
            imageAutor,
            role,
            bio,
          }}
          news={articulo}
        />
      </article>
    </MainContent>

    <Footer />
    <Modalcontac />
  </body>
</html>

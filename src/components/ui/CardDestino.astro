---
import Calendario from "../svg/Calendario.astro";
import Ubicacion from "../svg/Ubicacion.astro";
import Persona from "../svg/Persona.astro";

const { currentLocale } = Astro;
const {
  lenguaje,
  data,
  style = "max-w-xs min-w-xs",
  botones = "justify-between",
  locacion,
  bandera,
  ruta = "/destino/tour/",
} = Astro.props;
---

<article class=`bg-white ${style}  rounded-xl shadow-md overflow-hidden `>
<header>
  <a 
    href={`/${currentLocale}${ruta}${data.titleLink}`} 
    title={`tour ${data.title}`} 
    class="relative"
  >
      {data.recomendado && (
      <span class="absolute top-3 left-3 bg-amber-500 text-white text-xs px-2 py-1 rounded z-10">
        {lenguaje.cardDestinoRecomendado}
      </span>
      
    )}
    <img
      src={data.images[0].link}
      alt={`Imagen del tour ${data.images[0].alt}`}
      title={`Imagen del tour ${data.images[0].title}`}
      class="w-full max-w-xs h-52 object-cover block"
      loading="lazy"
      style={{ objectFit: 'cover', width: '100%', height: '13rem' }}
    />

  </a>
</header>


  <main class=`${bandera? "md:max-w-[290px] w-full  mx-auto":" "} p-4 space-y-2`>
    <p class="text-sm flex items-center gap-1">
      <Ubicacion style=" text-azul-travel" />
      {data.location ?? locacion}
    </p>

    <h2 class="text-base font-semibold line-clamp-2 text-gray-800 leading-snug">
      {data.title}
    </h2>

    <section
      class="flex items-center gap-1 text-yellow-500 text-sm"
      aria-label="Valoración"
    >
      <p class="text-yellow-500 flex gap-4 justify-center items-center text-xl">
        {"★".repeat(data.rating)}{"☆".repeat(5 - data.rating)}
        <span class="text-gray-500 text-xs"
          >({data.reseñas} {lenguaje.infoReseñas})</span
        >
      </p>
    </section>

    <ul
      class="flex justify-between text-sm text-gray-600 mt-2"
      aria-label="Detalles del tour"
    >
      <li class="flex items-center gap-1">
        <Calendario style="text-azul-travel" />
        {data.duration}
        {lenguaje.infoDias}
      </li>
      <li class="flex items-center gap-1">
        <Persona style="text-azul-travel" />
        {data.groupSize}
        {lenguaje.infoHuespedes}
      </li>
    </ul>
  </main>

  <footer class=`flex w-auto ${bandera?"min-w-35 ":""} items-center ${botones}  px-4 pb-4 pt-2`>
    <!-- <p class="text-azul-travel font-semibold">{data.packages[0].price}</p> -->

    <a
      href={`/${currentLocale}${ruta}${data.titleLink}`}
      class=`text-white ${style? "w-full text-center":" "}  text-sm bg-azul-travel hover:bg-azul-travel-hover hover:scale-105 active:scale-95 duration-300 rounded-3xl px-4 py-2`
      >{lenguaje.cardDestinoBoton}</a
    >
  </footer>
</article>
